-- ============================================================================
-- V6: DLQ original_id UNIQUE 제약 추가
-- ============================================================================
-- Why?
--   다중 인스턴스 환경에서 레이스 컨디션으로 인한 중복 DLQ 저장 방지
--   existsByOriginalId() 체크로 대부분 방지되지만, DB 레벨에서 최종 보장
-- ============================================================================

ALTER TABLE outbox_dead_letter
    ADD CONSTRAINT uk_dlq_original_id UNIQUE (original_id);
