server:
  port: 21085

spring:
  application:
    name: service-notification

  # 기본 Profile 설정 (환경변수 없으면 local 사용)
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}

  jpa:
    open-in-view: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

# Redis Stream Consumer 설정
notification:
  stream:
    key: stream:order-events
    consumer-group: notification-group
    consumer-name: ${spring.application.name}-${random.uuid}
    poll-timeout: 5000  # 밀리초
    batch-size: 10
