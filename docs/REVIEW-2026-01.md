# 문서 검토 리포트 (2026-01)

## 검토 일시
2026년 1월 21일

## 검토 범위
- `docs/study/` 전체 문서 (24개)
- `docs/architecture/` 전체 문서 (3개)
- `CLAUDE.md`

---

## 발견된 주요 이슈

### 1. 치명적 이슈 (Critical)

#### 1.1 temporalio/auto-setup 이미지 Deprecated
| 항목 | 내용 |
|------|------|
| 위치 | `phase3/01-temporal-concepts.md`, `phase3/02-temporal-spring.md` |
| 현재 | `temporalio/auto-setup:1.22.0` / `1.22.3` |
| 문제 | **Deprecated** - Temporal 1.30.0부터 제거 예정 |
| 해결 | `temporalio/server` 또는 Temporal CLI 사용 권장 |
| 참조 | [Temporal Docker Docs](https://docs.temporal.io/self-hosted-guide/deployment) |

#### 1.2 Promtail EOL (End-of-Life)
| 항목 | 내용 |
|------|------|
| 위치 | `phase2b/07-loki.md` |
| 현재 | `grafana/promtail:2.9.0` |
| 문제 | **2026년 3월 2일 EOL** - Grafana Alloy로 대체됨 |
| 해결 | Grafana Alloy 사용 또는 EOL 경고 명시 |
| 참조 | [Promtail Migration Guide](https://grafana.com/docs/alloy/latest/set-up/migrate/from-promtail/) |

---

### 2. 버전 불일치 (Version Mismatch)

| 컴포넌트 | 문서 버전 | 최신 버전 | 위치 | 우선순위 |
|----------|-----------|-----------|------|----------|
| Temporal SDK | 1.22.3 | 1.32.1 | phase3/02-temporal-spring.md | High |
| Temporal UI | 2.21.x | 3.x | phase3/*.md | High |
| Loki | 2.9.0 | 3.6.0 | phase2b/07-loki.md | Medium |
| Grafana | 10.2.0 | 12.3.1 | phase2b/06,07,08.md | Medium |
| Prometheus | v2.48.0 | v3.9.1 | phase2b/06,08.md | Medium |
| Alertmanager | v0.26.0 | v0.28.x | phase2b/08.md | Low |
| Redisson | 3.27.0 | 4.0.0 | phase2a/03, phase2b/03.md | High |

---

### 3. 호환성 이슈

#### 3.1 Spring Boot 4 + Temporal SDK
| 항목 | 내용 |
|------|------|
| 문제 | Temporal Spring Boot Starter가 Spring Boot 3.x 기준으로 문서화됨 |
| 현황 | Spring Boot 4.0 호환성 공식 미확인 |
| 상태 | TECH-STACK.md에 이미 경고 포함 (적절함) |

#### 3.2 Spring Boot 4 + Redisson
| 항목 | 내용 |
|------|------|
| 문제 | 문서에서 3.27.0 사용, Spring Boot 4는 4.0.0 필요 |
| 해결 | Redisson 4.0.0으로 업데이트 필요 |

---

### 4. 개선 권장 사항

#### 4.1 Temporal 개발 환경 설정
**현재 방식 (Deprecated)**:
```yaml
services:
  temporal:
    image: temporalio/auto-setup:1.22.3  # DEPRECATED
```

**권장 방식 (Temporal CLI)**:
```bash
# 개발용: Temporal CLI 사용 (SQLite 내장)
temporal server start-dev

# Docker로 실행
docker run --rm -p 7233:7233 -p 8233:8233 \
  temporalio/temporal:latest \
  server start-dev --ip 0.0.0.0
```

#### 4.2 로그 수집 방식
**현재 방식 (EOL 예정)**:
```yaml
promtail:
  image: grafana/promtail:2.9.0  # EOL: 2026-03-02
```

**권장 방식 (Grafana Alloy)**:
```yaml
alloy:
  image: grafana/alloy:latest
  volumes:
    - ./alloy-config.alloy:/etc/alloy/config.alloy
```

---

## 수정 계획

### Phase 1: 필수 수정 (Critical)
1. [x] TECH-STACK.md - 버전 및 Deprecated 경고 업데이트
2. [x] phase3/*.md - Temporal 설정 업데이트 + 경고 추가
3. [x] phase2b/07-loki.md - Promtail EOL 경고 + Alloy 대안 추가

### Phase 2: 버전 업데이트 (High Priority)
4. [x] Redisson 버전 업데이트 (3.27.0 → 4.0.0)
5. [x] Temporal SDK 버전 업데이트 (1.22.3 → 1.32.1)

### Phase 3: 버전 업데이트 (Medium Priority)
6. [x] Grafana Stack 버전 참고 노트 추가
7. [x] Prometheus 버전 참고 노트 추가

---

## 참고 자료

### 공식 문서
- [Spring Boot 4.0 Release](https://spring.io/blog/2025/11/20/spring-boot-4-0-0-available-now/)
- [Temporal Java SDK Releases](https://github.com/temporalio/sdk-java/releases)
- [Grafana Alloy Migration](https://grafana.com/docs/alloy/latest/set-up/migrate/from-promtail/)
- [Loki 3.6 Release Notes](https://grafana.com/docs/loki/latest/release-notes/v3-6/)
- [Redisson 4.0.0 Release](https://github.com/redisson/redisson/releases)

### 버전 정보
- Temporal SDK: 1.32.1 (2026-01 기준)
- Grafana: 12.3.1 (2026-01 기준)
- Loki: 3.6.0 (2026-01 기준)
- Prometheus: 3.9.1 (2026-01 기준)
- Redisson: 4.0.0 (Spring Boot 4 호환)
