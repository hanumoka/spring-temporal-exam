server:
  port: 8083

spring:
  application:
    name: service-payment

  # 기본 Profile 설정
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}

  jpa:
    open-in-view: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
        default_batch_fetch_size: 100

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

# Fake PG 설정
payment:
  fake:
    delay-ms: 100        # PG 응답 지연 시간 (ms)
    failure-rate: 0.0    # 실패 확률 (0.0 ~ 1.0, 테스트용)

  # 세마포어 설정 (PG 동시 호출 제한)
  semaphore:
    permits: 10          # 동시 PG 호출 허용 수
    wait-seconds: 5      # 세마포어 대기 시간 (초)
